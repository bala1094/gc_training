<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="components/student-details.html">
<link rel="import" href="components/teacher-details.html">

<dom-module id="main-doc">
    <style>
        /* #bala div > p{--student-details-color: chartreuse;} */
        :host ::content > #mainBody > #xxx  p { color: chartreuse;} 
        
    </style>
    <template>
        <div id="mainBody">
            <teacher-details id="xxx" person-name="xxx" person-id="T5" department="EEE"></teacher-details>
            <teacher-details id="yyy" person-name="yyy" person-id="T6"></teacher-details>
            <student-details id="bala" person-name="Bala" person-id="S12"></student-details>
            <student-details id="narayana" person-name="Narayana" person-id="S13" sports-quota></student-details>
        </div>
    </template>   
    <script>

        Polymer({
            is : "main-doc",
            
            paraAndRandomGenerator : function(id){
                    // button removal after getting the input
                    let numOfButtonSibling = document.getElementById(id).childNodes[1].childNodes.length;
                    console.log(numOfButtonSibling);
                    let buttonElement = document.getElementById(id).childNodes[1].childNodes[numOfButtonSibling - 2];
                    console.log(buttonElement);
                    document.getElementById(id).childNodes[1].removeChild(buttonElement)

                    let paraCreation = document.createElement('p');
                    paraCreation.textContent = `${Math.floor((Math.random() * 100) + 1)} is your lucky number`;
                    document.getElementById(id).childNodes[3].innerHTML = paraCreation.textContent;
                },
            ready : function(){ //known thing:  one every click, number will be generated
                this.$.bala.printConsole();
                document.getElementById('xxx').addEventListener('buttonTap', this.paraAndRandomGenerator.bind(this,'xxx'));
                document.getElementById('yyy').addEventListener('buttonTap', this.paraAndRandomGenerator.bind(this,'yyy'));
                document.getElementById('bala').addEventListener('buttonTap', this.paraAndRandomGenerator.bind(this,'bala'));
                document.getElementById('narayana').addEventListener('buttonTap', this.paraAndRandomGenerator.bind(this,'narayana'));
            }
        });


    </script>
</dom-module>


